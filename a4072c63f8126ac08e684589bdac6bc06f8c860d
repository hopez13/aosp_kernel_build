{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2fb28038_9e5cf860",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1161174
      },
      "writtenOn": "2024-06-11T22:42:29Z",
      "side": 1,
      "message": "```\n-------- TESTING DONE --------\n########################################\nVerified that checkpatch_full.log is generated even when there\u0027s no checkpatch()\ntarget.\n\nestaats$ git -C common-modules/virtual-device format-patch --stdout -1 84a3c4689f46eee53d888318d577814d0e1cef33\nFrom 84a3c4689f46eee53d888318d577814d0e1cef33 Mon Sep 17 00:00:00 2001\nFrom: Erik Staats \u003cestaats@google.com\u003e\nDate: Tue, 11 Jun 2024 22:16:57 +0000\nSubject: [PATCH] Add test struct\n\nChange-Id: Idc86855b52f3475a56c76c3fc17efc65ec3496d9\nSigned-off-by: Erik Staats \u003cestaats@google.com\u003e\n---\n goldfish_drivers/goldfish_address_space.c | 4 ++++\n 1 file changed, 4 insertions(+)\n\ndiff --git a/goldfish_drivers/goldfish_address_space.c b/goldfish_drivers/goldfish_address_space.c\nindex 4e88763..81eb821 100644\n--- a/goldfish_drivers/goldfish_address_space.c\n+++ b/goldfish_drivers/goldfish_address_space.c\n@@ -96,6 +96,10 @@ struct as_allocated_blocks {\n        struct mutex blocks_lock; /* protects operations with blocks */\n };\n\n+struct test {\n+       __u8 data[0];\n+};\n+\n struct as_ping_info_internal {\n        __u64 offset;\n        __u64 size;\n--\n2.45.2.505.gda0bf45e8d-goog\n\nestaats$ mkdir dist\nestaats$ echo \"common-modules/virtual-device 84a3c4689f46eee53d888318d577814d0e1cef33\" \u003e dist/applied.prop\nestaats$ tools/bazel run //build/kernel/static_analysis:checkpatch_presubmit -- --dist_dir\u003d`pwd`/dist ; echo rc \u003d $?\nINFO: Analyzed target //build/kernel/static_analysis:checkpatch_presubmit (0 packages loaded, 12 targets configured).\nINFO: Found 1 target...\nTarget //build/kernel/static_analysis:checkpatch_presubmit up-to-date:\n  bazel-bin/build/kernel/static_analysis/checkpatch_presubmit\nINFO: Elapsed time: 0.394s, Critical Path: 0.06s\nINFO: 1 process: 1 internal.\nINFO: Build completed successfully, 1 total action\nINFO: Running command line: bazel-bin/build/kernel/static_analysis/checkpatch_presubmit \u0027--dist_dir\u003d/usr/local/google/home/estaats/dev/checkpatch/kernel_ack/dist\u0027\nINFO: Skipping common-modules/virtual-device because no checkpatch() target is found.\nrc \u003d 0\nestaats$ ls dist\napplied.prop  checkpatch_full.log\nestaats$ cat dist/checkpatch_full.log\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\ncommon-modules/virtual-device: 84a3c4689f46eee53d888318d577814d0e1cef33\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nERROR:GERRIT_CHANGE_ID: Remove Gerrit Change-Id\u0027s before submitting upstream\n#6:\nChange-Id: Idc86855b52f3475a56c76c3fc17efc65ec3496d9\n\nERROR:FLEXIBLE_ARRAY: Use C99 flexible arrays - see https://docs.kernel.org/process/deprecated.html#zero-length-and-one-element-arrays\n#22: FILE: goldfish_drivers/goldfish_address_space.c:101:\n+       __u8 data[0];\n+};\n\ntotal: 2 errors, 0 warnings, 10 lines checked\n\nNOTE: For some of the reported defects, checkpatch may be able to\n      mechanically convert to the typical style using --fix or --fix-inplace.\n\n/tmp/.tmp.checkpatch.XuHW5R/checkpatch/patches/0001-Add-test-struct.patch has style problems, please review.\n\nNOTE: If any of the errors are false positives, please report\n      them to the maintainer, see CHECKPATCH in MAINTAINERS.\nestaats$\n\n\n########################################\nVerified that both checkpatch.log and checkpatch_full.log are generated when\nthere is a checkpatch() target.\n\nestaats$ git -C common format-patch --stdout -1 b8429c1e3acf8ad69dc1db4d5c7baab33f92eba9\nFrom b8429c1e3acf8ad69dc1db4d5c7baab33f92eba9 Mon Sep 17 00:00:00 2001\nFrom: Erik Staats \u003cestaats@google.com\u003e\nDate: Tue, 11 Jun 2024 22:22:30 +0000\nSubject: [PATCH] Add test struct\n\nChange-Id: Ia4be0d4c1e8bd09ebe0e1f7ea444ece30b0be926\nSigned-off-by: Erik Staats \u003cestaats@google.com\u003e\n---\n kernel/acct.c | 4 ++++\n 1 file changed, 4 insertions(+)\n\ndiff --git a/kernel/acct.c b/kernel/acct.c\nindex 986c8214dabf..8813b3291cdd 100644\n--- a/kernel/acct.c\n+++ b/kernel/acct.c\n@@ -75,6 +75,10 @@ static int acct_parm[3] \u003d {4, 2, 30};\n #define SUSPEND                (acct_parm[1])  /* \u003cfoo% free space - suspend */\n #define ACCT_TIMEOUT   (acct_parm[2])  /* foo second timeout between checks */\n\n+struct test {\n+       __u8 data[0];\n+};\n+\n #ifdef CONFIG_SYSCTL\n static struct ctl_table kern_acct_table[] \u003d {\n        {\n--\n2.45.2.505.gda0bf45e8d-goog\nestaats$ echo \"common b8429c1e3acf8ad69dc1db4d5c7baab33f92eba9\" \u003e dist/applied.prop\nestaats$ tools/bazel run //build/kernel/static_analysis:checkpatch_presubmit -- --dist_dir\u003d`pwd`/dist ; echo rc \u003d $?\nINFO: Analyzed target //build/kernel/static_analysis:checkpatch_presubmit (0 packages loaded, 12 targets configured).\nINFO: Found 1 target...\nTarget //build/kernel/static_analysis:checkpatch_presubmit up-to-date:\n  bazel-bin/build/kernel/static_analysis/checkpatch_presubmit\nINFO: Elapsed time: 0.384s, Critical Path: 0.05s\nINFO: 1 process: 1 internal.\nINFO: Build completed successfully, 1 total action\nINFO: Running command line: bazel-bin/build/kernel/static_analysis/checkpatch_presubmit \u0027--dist_dir\u003d/usr/local/google/home/estaats/dev/checkpatch/kernel_ack/dist\u0027\n/usr/local/google/home/estaats/.vim_bashrc: line 7: gawk: command not found\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n Running static analysis on common (b8429c1e3acf8ad69dc1db4d5c7baab33f92eba9) ...\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nErrors were reported from checkpatch.pl.\n\nSummary:\n\nERROR:FLEXIBLE_ARRAY: Use C99 flexible arrays - see https://docs.kernel.org/process/deprecated.html#zero-length-and-one-element-arrays\n#22: FILE: kernel/acct.c:80:\n\nSee /tmp/.tmp.checkpatch.log.CODfJK for complete output.\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nFinished running static analysis on common.\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nINFO: See checkpatch.log for complete output.\nrc \u003d 1\nestaats$ ls dist\napplied.prop  checkpatch_full.log  checkpatch.log\nestaats$\n```",
      "revId": "a4072c63f8126ac08e684589bdac6bc06f8c860d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}